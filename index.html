<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plano de Leitura da Bíblia (Firebase)</title>
    <link rel="stylesheet" href="styles.css">

    <!-- Adicione os SDKs do Firebase AQUI -->
    <!-- Certifique-se de que estas são as versões desejadas ou atualize para versões mais recentes do CDN (v9 compat) -->
    <!-- Usando versões compat para corresponder ao script.js fornecido anteriormente -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <!-- Opcional: Adicione outros SDKs compatíveis se necessário (ex: Analytics) -->
    <!-- <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-analytics-compat.js"></script> -->
    <!-- Fim dos SDKs do Firebase -->

</head>
<body>
    <header>
        <h1>Plano de Leitura da Bíblia</h1>
        <!-- Área de Status do Usuário -->
        <div id="user-status" class="user-status-container">
            <span id="user-email" style="display: none;"></span>
            <button id="logout-button" style="display: none;">Sair</button>
        </div>
    </header>

    <main>
        <!-- Seção de Autenticação (Inicialmente Visível) -->
        <section id="auth-section">
            <div id="login-form">
                <h2>Login</h2>
                <div id="auth-error" class="error-message" style="display: none;"></div>
                <label for="login-email">Email:</label>
                <input type="email" id="login-email" required>
                <label for="login-password">Senha:</label>
                <input type="password" id="login-password" required>
                <button id="login-button">Entrar</button>
                <p>Não tem uma conta? <a href="#" id="show-signup">Cadastre-se</a></p>
            </div>

            <div id="signup-form" style="display: none;">
                <h2>Cadastro</h2>
                 <div id="signup-error" class="error-message" style="display: none;"></div>
                <label for="signup-email">Email:</label>
                <input type="email" id="signup-email" required>
                <label for="signup-password">Senha (mínimo 6 caracteres):</label>
                <input type="password" id="signup-password" required>
                <button id="signup-button">Cadastrar</button>
                <p>Já tem uma conta? <a href="#" id="show-login">Faça Login</a></p>
            </div>
             <div id="auth-loading" class="loading-indicator" style="display: none;">
                Processando...
            </div>
        </section>

        <!-- Seção de Criação de Plano (Inicialmente Oculta) -->
        <section id="plan-creation" style="display: none;">
             <h2>Criar Plano Personalizado</h2>
             <div id="plan-error" class="error-message" style="display: none;"></div>
             <div id="plan-loading-create" class="loading-indicator" style="display: none;">
                Salvando plano...
             </div>

            <fieldset>
                <legend>Opção 1: Definir por Intervalo Contínuo</legend>
                <p>Defina o início e o fim da sua leitura seguindo a ordem dos livros.</p>
                <div>
                    <label for="start-book-select">Livro Inicial:</label>
                    <select id="start-book-select">
                        <option value="">-- Selecione --</option>
                        <!-- Opções serão preenchidas por JavaScript -->
                    </select>
                    <label for="start-chapter-input">Capítulo Inicial:</label>
                    <input type="number" id="start-chapter-input" min="1" style="width: 70px;">
                </div>
                <div style="margin-top: 10px;">
                     <label for="end-book-select">Livro Final:</label>
                    <select id="end-book-select">
                        <option value="">-- Selecione --</option>
                        <!-- Opções serão preenchidas por JavaScript -->
                    </select>
                    <label for="end-chapter-input">Capítulo Final:</label>
                    <input type="number" id="end-chapter-input" min="1" style="width: 70px;">
                </div>
            </fieldset>

             <hr style="margin: 20px 0;">

             <fieldset>
                <legend>Opção 2: Selecionar Livros Inteiros ou Capítulos Avulsos</legend>
                <label for="books-select">Escolha Livros Inteiros (Ctrl/Cmd + Clique para vários):</label>
                <select id="books-select" multiple size="10"> <!-- size="10" para melhor visualização -->
                     <!-- Opções serão preenchidas por JavaScript -->
                </select>
                <label for="chapters-input" style="margin-top: 10px;">Ou Especifique Capítulos/Intervalos (Ex: Gn 1-3, Sl 23):</label>
                <input type="text" id="chapters-input" placeholder="Ex: Gênesis 1-3, Êxodo 1, Salmos 23">
            </fieldset>

             <hr style="margin: 20px 0;">

            <label for="days-input">Número Total de Dias para o Plano:</label>
            <input type="number" id="days-input" min="1" value="30" required> <!-- Adicionado 'required' básico -->
            <button id="create-plan">Criar Plano</button>
        </section>

        <!-- Seção do Plano de Leitura (Inicialmente Oculta) -->
        <section id="reading-plan" style="display: none;">
            <h2>Seu Plano de Leitura</h2>
             <div id="plan-loading-view" class="loading-indicator" style="display: none;">
                Carregando plano...
            </div>
            <div id="daily-reading" class="daily-reading-box">Carregando leitura...</div> <!-- Adicionada classe para possível estilização -->
            <div class="plan-actions"> <!-- Container para botões -->
                <button id="mark-as-read">Marcar Dia como Lido</button>
                <button id="reset-plan">Resetar Plano Atual</button>
            </div>
        </section>
    </main>

    <footer>
        <!-- Pode adicionar um rodapé se desejar -->
        <!-- <p>© 2023 Seu Nome ou Projeto</p> -->
    </footer>

    <!-- Carrega o script principal no final do body -->
    <!-- IMPORTANTE: Removido type="module" para funcionar com os scripts 'compat' -->
    <script src="script.js"></script>

</body>
</html>
