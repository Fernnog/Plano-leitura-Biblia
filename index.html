<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plano de Leitura da Bíblia (Firebase)</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Adicione os SDKs do Firebase AQUI -->
    <!-- Substitua pelas URLs mais recentes do Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <!-- Fim dos SDKs do Firebase -->
</head>
<body>
    <header>
        <h1>Plano de Leitura da Bíblia</h1>
        <!-- Área de Status do Usuário -->
        <div id="user-status" class="user-status-container">
            <span id="user-email" style="display: none;"></span>
            <button id="logout-button" style="display: none;">Sair</button>
        </div>
    </header>

    <main>
        <!-- Seção de Autenticação (Inicialmente Visível) -->
        <section id="auth-section">
            <div id="login-form">
                <h2>Login</h2>
                <div id="auth-error" class="error-message" style="display: none;"></div>
                <label for="login-email">Email:</label>
                <input type="email" id="login-email" required>
                <label for="login-password">Senha:</label>
                <input type="password" id="login-password" required>
                <button id="login-button">Entrar</button>
                <p>Não tem uma conta? <a href="#" id="show-signup">Cadastre-se</a></p>
            </div>

            <div id="signup-form" style="display: none;">
                <h2>Cadastro</h2>
                 <div id="signup-error" class="error-message" style="display: none;"></div>
                <label for="signup-email">Email:</label>
                <input type="email" id="signup-email" required>
                <label for="signup-password">Senha (mínimo 6 caracteres):</label>
                <input type="password" id="signup-password" required>
                <button id="signup-button">Cadastrar</button>
                <p>Já tem uma conta? <a href="#" id="show-login">Faça Login</a></p>
            </div>
             <div id="auth-loading" class="loading-indicator" style="display: none;">
                Processando...
            </div>
        </section>

        <!-- Seção de Criação de Plano (Inicialmente Oculta) -->
        <section id="plan-creation" style="display: none;">
             <h2>Criar Plano Personalizado</h2>
             <div id="plan-error" class="error-message" style="display: none;"></div>
             <div id="plan-loading-create" class="loading-indicator" style="display: none;">
                Salvando plano...
             </div>

            <!-- (Restante do formulário de criação como estava antes) -->
            <fieldset>
                <legend>Opção 1: Definir por Intervalo Contínuo</legend>
                <p>Defina o início e o fim da sua leitura seguindo a ordem dos livros.</p>
                <div>
                    <label for="start-book-select">Livro Inicial:</label>
                    <select id="start-book-select">
                        <option value="">-- Selecione --</option>
                    </select>
                    <label for="start-chapter-input">Capítulo Inicial:</label>
                    <input type="number" id="start-chapter-input" min="1" style="width: 70px;">
                </div>
                <div style="margin-top: 10px;">
                     <label for="end-book-select">Livro Final:</label>
                    <select id="end-book-select">
                        <option value="">-- Selecione --</option>
                    </select>
                    <label for="end-chapter-input">Capítulo Final:</label>
                    <input type="number" id="end-chapter-input" min="1" style="width: 70px;">
                </div>
            </fieldset>
             <hr style="margin: 20px 0;">
             <fieldset>
                <legend>Opção 2: Selecionar Livros Inteiros ou Capítulos Avulsos</legend>
                <label for="books-select">Escolha Livros Inteiros (Ctrl/Cmd + Clique para vários):</label>
                <select id="books-select" multiple></select>
                <label for="chapters-input">Ou Especifique Capítulos/Intervalos (Ex: Gn 1-3, Sl 23):</label>
                <input type="text" id="chapters-input" placeholder="Ex: Gênesis 1-3, Êxodo 1, Salmos 23">
            </fieldset>
             <hr style="margin: 20px 0;">
            <label for="days-input">Número Total de Dias para o Plano:</label>
            <input type="number" id="days-input" min="1" value="30">
            <button id="create-plan">Criar Plano</button>
        </section>

        <!-- Seção do Plano de Leitura (Inicialmente Oculta) -->
        <section id="reading-plan" style="display: none;">
            <h2>Seu Plano de Leitura</h2>
             <div id="plan-loading-view" class="loading-indicator" style="display: none;">
                Carregando plano...
            </div>
            <div id="daily-reading">Carregando leitura...</div>
            <button id="mark-as-read">Marcar como Lido</button>
            <button id="reset-plan">Resetar Plano</button>
        </section>
    </main>

    <script src="script.js"></script> <!-- Script no final do body -->
</body>
</html>